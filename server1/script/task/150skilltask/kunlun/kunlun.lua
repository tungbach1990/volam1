

tbConfig = {}
tbMissionDialog = {}
tbMissionDialog[0] = {
	"TuyÒn C¬ Tö: H«m nay ta thÊy ng­¬i b¹i kiÕm mµ ®Õn, nh­ng mµ ®èi víi kiÕm ph¸p ng­¬i cã ngé ra ®­îc ®iÒu g× kh«ng?",
	"Ng­êi ch¬i: ®Ö tö nhËn ®­îc mét thanh h¶o kiÕm.",
	"TuyÒn C¬ Tö: ng­¬i lµ ®Ö tö cña C«n L«n, nh­ng mµ chØ thİch kiÕm th«i sao?",
	"Ng­êi ch¬i: ®Ö tö b¸i kiÕm lµm s­ phô.",
	"TuyÒn C¬ Tö: å, nÕu ®· nh­ vËy, th× t¹i sao chóng ta kh«ng luËn vÒ ®ao kiÕm nhØ. Ta sÏ ®îi ng­¬i ë KiÕn Tİnh Phong S¬n §éng.",
}

tbMissionDialog[1] = {
	"Vò khİ bŞ ®¸nh g·y, hîp l¹i víi nh÷ng binh ®ao g·y ®o¹n ë d­íi ®Êt, ®Õn ch¸nh ®iÖn håi b¸o ch­ëng m«n",
}

tbMissionDialog[2] = {
	"TuyÒn C¬ Tö: mÆc dï ng­¬i ®· ®¸nh b¹i ph©n th©n cña ta, nh­ng mµ kiÕm cña ng­¬i ®· bŞ g·y cã biÕt lµ v× sao kh«ng",
	"Ng­êi ch¬i: cho nªn ®ª tö míi lu«n ®i t×m mét c©y kiÕm tèt kh«ng bao giê bŞ ®¸nh g·y nh­ vËy.",
	"TuyÒn C¬ Tö: NÕu nh­ c©y kiÕm ®ã còng g·y th× sao?",
	"Ng­êi ch¬i: th× c©y kiÕm ®ã kh«ng ph¶i lµ thø mµ ®Ö tö cÇn t×m",
	"TuyÒn C¬ Tö: thùc ra cã mét thanh kiÕm cã lÏ kh«ng thÓ g·y ®­îc.",
	"Ng­êi ch¬i: C©y kiÕm nµy hiÖn giê ®ang ë ®©u",
	"TuyÒn C¬ Tö: Th¸n Tøc L·o Nh©n",
}

tbMissionDialog[3] = {
	"Th¸n Tøc L·o Nh©n: ng­¬i cho r»ng kiÕm ph¸p cao minh nhÊt lµ g×.",
	"Ng­êi ch¬i: v« kiÕm th¾ng h÷u kiÕm.",
	"Th¸n Tøc L·o Nh©n: vËy th× t¹i sao ng­¬i vÉn muèn cÇm kiÕm?",
	"Ng­êi ch¬i: v« t©m v« kiÕm, lµ c¶nh giíi cao nhÊt cña kiÕm ph¸p, chØ lµ ta vÉn ch­a ngé ®­îc giíi c¶nh ®ã mµ th«i.",
	"Th¸n Tøc L·o Nh©n: sai råi. ng­êi b×nh th­êng th­êng cho r»ng v« t©m v« kiÕm, vÉn cø cho lµ c¶nh giíi cao nhÊt cña kiÕm ph¸p, no­ng ta th× ng­¬c l¹i ta cho r»ng danh kiÕm t¹i thñ, kiÕm vµ t©m lµ hîp thÓ .",
	"Th¸n Tøc L·o Nh©n: kiÕm chiªu nhÊt xuÊt, nh­ thØ øng c¬, ®×nh bÊt h¹ ph¸t, ®iÖn bÊt cËp phi, ®ã míi lµ kiÕm chi ch©n ®Õ.",
	"Ng­êi ch¬i: nh©n kiÕm hîp nhÊt tiÖn v« ph¸ tr¶n? ta cho r»ng kiÕm thuËt kh«ng ph¶i lµ  phiÕm phiÕm chi bèi, kiÕm còng lµ danh gia së chó, còng nªn ®¹t ®Õn nh©n kiÕm hîp nhÊt, nh­ng thñ trung chi kiÕm vÉn sÏ bŞ g·y l×a mµ th«i.",
	"Th¸n Tøc L·o Nh©n: cã thÓ m­în kiÕm nhÊt duyÖt.",
	"Giao nép ®o¶n kiÕm",
	"Ng­êi ch¬i: l·o dïng tay ®¸nh kiÕm, nh­ vËy lµ cã ı g×?",
	"Th¸n Tøc L·o Nh©n: cÇm h÷u cµm ©m, kiÕm h÷u kiÕm ng©m, kh¶i bÊt vÊn ®µn kiÕm long ng©m, nghe ©m thanh cã thÓ ngé ra tè chÊt cña kiÕm ph¸p, chó ph¸p giai kh«ng thÓ  x­ng lµ th­îng l­u, t¸i quan kiÕm th©n,",
	"Th¸n Tøc L·o Nh©n: kiÕm nµy kiÕm tİch vi loan, dÜ tr×nh suy l·o chi th¸i, t©m kiÕm cña ng­¬i cho dï cã ®eo ®uæi kh«ng ngõng, kiÕm ph¸p nh­ vËy n»m trong tay cña ng­¬i còng chØ lµ mét ®èng s¾t mµ th«i! chØ cã ®èng s¾t míi kh«ng bŞ g·y",
	"§©y lµ…?",
	"Th¸n Tøc L·o Nh©n: KiÕm gi¶ kiÕm gia, ng­¬i ®ang chän kiÕm, ®ång thêi kiÕm còng ®ang chän ng­¬i, nÕu cã c¬ héi l·nh ngé kiÕm ph¸p, t¨ng tiÕn kiÕm thuËt, míi cã thÓ tiÕn bé, hy väng r»ng ng­¬i sím cã ngµy t×m ®­îc t©m kiÕm cña m×no.",
}

tbMissionDialog[4] = {
	"TuyÒn C¬ Tö: sao h¶?",
	"Ng­êi ch¬i: kiÕm mµ s­ phô muèn ®Ö tö t×m, qu¶ thËt kh«ng gièng nh­ suy nghÜ. KiÕm thŞ h¶o kiÕm, nh©n thŞ cao nh©n.",
	"TuyÒn C¬ Tö: ®· muèn t×m ®­îc tuyÖt thÕ b¶o kiÕm, c¸i lÖnh bµi nµy ta giao cho ng­¬i.",
	"Ng­êi ch¬i: hø? LÖnh bµi cña ai ®©y?",
	"TuyÒn C¬ Tö: S¬n vò dôc lai phong m·n l©u, lÖnh bµi cña ai, kú thùc ®©u cã râ rµng.",
	"Ng­êi ch¬i: ®Ö tö kh«ng nh÷ng ph¶i t×m ®­îc c©y kiÕm, mµ còng ph¶i ®iÒu tra ch©n t­íng cho râ rµng sù viÖc nµy!",
}

tbConfig.tbNpcPos = {
	{nNpcId = 95, nMapId = 136, nPosX = 202*8*32, nPosY = 196*16*32, nLevel = 95, szName = "Th¸n Tøc L·o Nh©n",
		szScriptPath = "\\script\\task\\150skilltask\\kunlun\\tanxilaoren.lua"},
	{nNpcId = 1845, nMapId = 135, nPosX = 1520*32, nPosY = 2944*32, nLevel = 95, szName = "TuyÒn C¬ Tö ", bNoRevive = 0, nIsboss = 1,},
}

tbConfig[0] = {
	m_nCurStepId = 0,
	tbMessage = {
		{"DialogWithNpc", {"TuyÒn C¬ Tö "}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"AddDialog", {1, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}

tbConfig[1] = {
	m_nCurStepId = nil, 
	tbMessage = {
	},
	tbCondition = {
	},
	tbAction = {
		{"PlotDialogue", {1, 2885, 0, "C«n L«n", -1}},
	},
}

tbConfig[2] = {
	m_nCurStepId = 1, 
	tbMessage = {
		{"KillNpc", {"TuyÒn C¬ Tö "}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
		{"ThisTask:CheckNoItem", {6,1,2919}},
	},
	tbAction = {
		{"DropItem", {{{tbProp = {6,1,2919,1,0,0,}, nBindState = -2,},}}},
		{"PlotDialogue", {-1, -1, 1, "C«n L«n", 3}},
	},
}

tbConfig[3] = {
	m_nCurStepId = 1,
	tbMessage = {
		{"PickUp", {{tbProp = {6,1,2919,1,0,0,},}}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"GotoNextMessageStep", {1, 2885}},
	},
}

tbConfig[4] = {
	m_nCurStepId = 2,
	tbMessage = {
		{"DialogWithNpc", {"TuyÒn C¬ Tö "}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"AddDialog", {5, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}
 
tbConfig[5] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
	},
	tbAction = {
		{"PlotDialogue", {1, 2885, 2, "C«n L«n", -1}},
	},
}


tbConfig[6] = {
	m_nCurStepId = 3,
	tbMessage = {
		{"DialogWithNpc", {"Th¸n Tøc L·o Nh©n"}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"AddDialog", {7, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}

tbConfig[7] = {
	m_nCurStepId = nil, 
	tbMessage = {
	},
	tbCondition = {
	},
	tbAction = {
		{"PlotDialogue", {-1, -1, 3, "C«n L«n", 8}},
	},
}

tbConfig[8] = {
	m_nCurStepId = nil, 
	tbMessage = {
	},
	tbCondition = {
	},
	tbAction = {
		{"ConsumeItem", {{{tbProp = {6,1,2919,1,0,0,},},}}},
		{"GotoNextMessageStep", {1, 2885}},
	},
}

tbConfig[9] = {
	m_nCurStepId = 4,
	tbMessage = {
		{"DialogWithNpc", {"TuyÒn C¬ Tö "}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"AddDialog", {10, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}

tbConfig[10] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
		{"CheckBagFreeCell", {1, "CÇn cã İt nhÊt mét « trèng trong hµnh trang"}},
	},
	tbAction = {
		{"PlotDialogue", {-1, -1, 4, "C«n L«n", 11}},
	},
}

tbConfig[11] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"CheckBagFreeCell", {1, "CÇn cã İt nhÊt mét « trèng trong hµnh trang"}}
	},
	tbAction = {
		{"GetMissionItem", {{{tbProp = {6,1,2908,1,0,0,}, nBindState = -2,},}}},
		{"GotoNextMessageStep", {1, 2885}},
	},
}




