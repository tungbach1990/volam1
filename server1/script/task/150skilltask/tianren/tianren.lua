

tbConfig = {}
tbMissionDialog = {}
tbMissionDialog[0] = {
	"§oan Méc DuÖ: Nh©n sÜ trong thiªn h¹ ®· vµo tr©n §¹i Kim cña ta råi, tªn ngèc DiÖp Hµnh KiÖm, cuèi cïng còng ®· tróng kÕ cña ta!",
	"Ng­êi ch¬i:Chóc mõng T¶ Hé Ph¸p",
	"§oan Méc DuÖ:Ng­¬i kh¬ng hái ta v× sao µ?",
	"Ng­êi ch¬i:Ta kh«ng cÇn biÕt",
	"§oan Méc DuÖ:§­îc! Ta ®· kh«ng nh×n lÇm ng­êi, LÇn nµy ng­¬i ®Õn ®©y, ta cã mét nhiÖm vô giao cho ng­¬i.",
	"D¹!",
	"§oan Méc DuÖ:Kh«ng hái lµ nhiÖm vô g× µ?",
	"Ng­êi ch¬i:Ta kh«ng cÇn biÕt",
	"§oan Méc DuÖ:Ha ha, ng­¬i ch¾c lµ biÕt DiÖp Hµnh KiÖm cña §¹i Tèng, h¾n lµ mét tªn ngèc, ®· nghe ngãng tÊt c¶ tin tøc, nh­ng nh÷ng lêi cña h¾n kh«ng ®¸ng tin, ng­¬i h·y ®i L©m An mét chuyÕn, gñi nh÷ng g× mµ gn­¬i nghe ngãgn ®­îc vÒ cho ta., vµ cßn...",
	"Ng­êi ch¬i:T«i biÕt råi",
}

tbMissionDialog[1] = {
	"Nh¹c Hoa l·o nh©n ë Vò Di S¬n lµ ai? §Õn ®ã th¨m t×m hiÓu thö xem."
}

tbMissionDialog[2] = {
	"TiÓu Nhan:Ta muèn ¨n kÑo hå l« T©y Tr¾c ë An §«ng ®¹i m«n L©m An, ta muèn ¨n h¹t dÎ ®­êng ë ë cöa thµnh, ta cßn muèn ¨n kÑo s÷a Tø Xuyªn ë  Kim Thuû M«n. Ng­¬i 1 c©y, ta 1 c©y, cïng nhau ¨n cã ®­îc kh«ng?",
	"Ng­êi ch¬i:Ng­¬i ch­a ¨n kÑo bao giê sao?",
	"TiÓu Nhan:Ng­êi ta thÝch ¨n kÑo, h¹y mua gióp ta ®i, ta kh«ng d¸m xuèng nói mét m×nh ~~",
	"Ng­êi ch¬i:……¤ng n«i cña ng­¬i Nh¹c Hoa l·o nh©n ®©u råi?",
	"TiÓu Nhan:Ta kh«ng biÕt, «ng néi ®Ó l¹i ta mét m×nh ~~",
	"Ng­êi ch¬i:Théi ®i, ®õng hßng lõa ta, cã tin lµ ta giÕt nhµ ng­¬i kh«ng?",
	"TiÓu Nhan: ¢ý Êy, «ng ta thËt sù kh«ng cã nãi lµ ®i ®©u, ng­¬i mua kÑo cho ta, ta sÏ dÉn ng­¬i ®i t×m, chØ cã mét m×nh TiÓu Nhan ta biÕt ®­êng ®i th«i",
}

tbMissionDialog[3] = {
	"TiÓu Nhan:Mïi vÞ qu¶ lµ ngon thËt!",
	"Ng­êi ch¬i:§i th«i, ta dÉn ng­¬i ®i t×m «ng néi",
	"TiÓu Nhan:KÑo ngon kh«ng?",
	"Ng­êi ch¬i:...Ngon. (sao ta l¹i tr¶ lêi c©u hái ngèc nghÐch nµy chø...)",
	"TiÓu Nhan:§­îc råi, «ng cña ta ®ang ë trªn cao nguyªn phñ tuyÕt cña vïng Cùc B¾c~~",
	"Ng­êi ch¬i:LÏ nµo ng­¬i kh«ng dÉn ta ®i?",
	"TiÓu Nhan:Ta kh«ng thÓ rêi khái n¬i nµy, nÕu ta g¹t ng­¬i, ng­¬i cã thÓ quay l¹i t×m ta. Ph¶i råi, ng­¬i cã ph¶i lµ ng­êi Thiªn NhÉn Gi¸o kh«ng?",
	"D¹!",
	"TiÓu Nhan:VËy ng­¬i lµ ng­êi H¸n µ?",
	"D¹!",
	"TiÓu Nhan:§óng lµ ng­êi H¸n, nh­ng t¹i sao l¹i ph¶i tham gia Thiªn NhÉn gi¸o, chiÕn ®Êu víi §¹i Tèng µ?",
	"Ng­êi ch¬i:Phô th©n ta tr­íc kia lµ t­íng lÜng cña §¹i Tèng, sau nµy bÞ gian thÇn h·m h¹i... Mµ th«i, mét c« n­¬ng nhá nh­ ng­¬i lµm sao mµ hiÓu ®­îc.",
	"TiÓu Nhan:……Ta hiÓu...Bëi v×, ta vµ «ng néi còng nh­ vËy....",
}

tbMissionDialog[4] = {
	"TiÓu Nhan:Ng­¬i tíi råi.",
	"Ng­êi ch¬i:Cã lÏ ng­¬i cÇn ph¶i ®i víi ta mét chuyÕn",
	"TiÓu Nhan:TiÓu Nhan vÉn muèn ¨n kÑo hå l« T©y Tr¾c ë An §«ng ®¹i m«n L©m An, ta muèn ¨n h¹t dÎ ®­êng ë ë cöa thµnh, ta cßn muèn ¨n kÑo s÷a Tø Xuyªn ë  Kim Thuû M«n. Ng­¬i 1 c©y, ta 1 c©y, cïng nhau ¨n cã ®­îc kh«ng?",
	"Ng­êi ch¬i:B©y giê ng­¬i cßn nãi nh÷ng lêi nµy lµm g×? Mau theo ta ®Õn Thiªn NhÉn gi¸o ®i.",
	"TiÓu Nhan:ThËt ra ta kh«ng thÓ rêi ra Vò Di S¬n nµy, ta còng kh«ng cßn sèng ®­îc bao l©u n÷a. Ng­¬i mang theo ta còng kh«ng thÓ uy hiÕp ®­îc ai ®©u.",
	"Ng­êi ch¬i:……Ng­¬i",
	"TiÓu Nhan:Ha Ha, ng­¬i qu¶ lµ kh«ng hÒ l¹nh lïng nh­ ng­¬i nãi. TiÓu Nhan chÕt ®i råi, ng­¬i cã nhí ®Õn L©m An mua kÑo kh«ng?",
	"Ng­êi ch¬i:Ta... sÏ nhí.",
}

tbMissionDialog[5] = {
	"§oan Méc DuÖ:Ha ha, lµm tèt l¾m. §éi qu©n D¹i Kim cña ta tung hoµnh thiªn h¹, ngµy Thiªn NhÉn gi¸o thèng nhÊt giang s¬n ®· cËn kÒ!",
	"Ng­êi ch¬i: (Mét bøc th­ kh«ng râ lµ g×, mµ ®· thÝch thó nh­ vËy, xem ra ta ph¶i xem l¹i c¸ch nh×n vÒ ng­êi)",
	"§oan Méc DuÖ:Tèt l¸m, lÖnh bµi n¸y ta giao cho ng­¬i, ta ®Æc biÖt tin t­ëng vµ kú väng ë ng­¬i.",
	"Ng­êi ch¬i:Ta nhÊt ®Þnh kh«ng phô lßng tin cña ng­¬i",
}

tbMissionDialog[6] = {
	"NhËn ®­îc kÑo s÷a Tø Xuyªn",
}

tbMissionDialog[7] = {
	"NhËn ®­îc kÑo hå l«",
}

tbMissionDialog[8] = {
	"NhËn ®­îc h¹t dÎ ®­êng",
}

tbConfig.tbNpcPos = {
	{nNpcId = 1839, nMapId = 193, nPosX = 151*8*32, nPosY = 160*16*32, nLevel = 95, szName = "TiÓu Nhan",
		szScriptPath = "\\script\\task\\150skilltask\\tianren\\xiaoyan.lua"},
	{nNpcId = 1838, nMapId = 176, nPosX = 152*8*32, nPosY = 182*16*32, nLevel = 95, szName = "DiÖp Hµnh KiÖm DiÖp Hµnh KiÖm", bNoRevive = 0, nIsboss = 1,},
	{nNpcId = 1840, nMapId = 320, nPosX = 193*8*32, nPosY = 195*16*32, nLevel = 95, szName = "Nh¹c Hoa l·o nh©n", bNoRevive = 0, nIsboss = 1,},
}

tbConfig[0] = {
	m_nCurStepId = 0,
	tbMessage = {
		{"DialogWithNpc", {"T¶ Hé Ph¸p §oan Méc DuÖ "}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"AddDialog", {1, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}

tbConfig[1] = {
	m_nCurStepId = nil, 
	tbMessage = {
	},
	tbCondition = {
	},
	tbAction = {
		{"PlotDialogue", {1, 2885, 0, "Thiªn NhÉn", -1}},
	},
}

tbConfig[2] = {
	m_nCurStepId = 1,
	tbMessage = {
		{"KillNpc", {"DiÖp Hµnh KiÖm DiÖp Hµnh KiÖm"}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"GetMissionItem", {{{tbProp = {6,1,2913,1,0,0,}, nBindState = -2,},}}},
		{"GotoNextMessageStep", {1, 2885}},
	},
 }
 
tbConfig[3] = {
	m_nCurStepId = 2,
	tbMessage = {
		{"UseItem", {{tbProp = {6,1,2913,1,0,0,},}}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"PlotDialogue", {-1, -1, 1, "Thiªn NhÉn", 4}},
	},
}
 
tbConfig[4] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
		{"CheckItem", {{{tbProp = {6,1,2913,1,0,0,},},}},},
	},
	tbAction = {
		{"ConsumeItem", {{{tbProp = {6,1,2913,1,0,0,},},}}},
		{"GotoNextMessageStep", {1, 2885}},
	},
}

tbConfig[5] = {
	m_nCurStepId = 3,
	tbMessage = {
		{"DialogWithNpc", {"TiÓu Nhan"}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"AddDialog", {6, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}

tbConfig[6] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
	},
	tbAction = {
		{"PlotDialogue", {1, 2885, 2, "Thiªn NhÉn", -1}},
	},
}

tbConfig[7] = {
	m_nCurStepId = 4,
	tbMessage = {
		{"DialogWithNpc", {"Ng­êi b¸n dÇu"}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
		{"ThisTask:CheckNoItem", {6, 1, 2914}},
	},
	tbAction = {
		{"AddDialog", {8, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}

tbConfig[8] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"CheckBagFreeCell", {1, "CÇn cã Ýt nhÊt mét « trèng trong hµnh trang"}},
	},
	tbAction = {
		{"PlotDialogue", {-1, -1, 6,  "Thiªn NhÉn", 9}},
	},
}

tbConfig[9] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"CheckBagFreeCell", {1, "CÇn cã Ýt nhÊt mét « trèng trong hµnh trang"}},
	},
	tbAction = {
		{"GetMissionItem", {{{tbProp = {6,1,2914,1,0,0,}, nBindState = -2,},}}},
		{"ThisTask:GotoDetailEX", {"Thiªn NhÉn", 16, -1, 6}},
	},
}


tbConfig[10] = {
	m_nCurStepId = 4,
	tbMessage = {
		{"DialogWithNpc", {"DiÖp TiÓu Ngäc"}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
		{"ThisTask:CheckNoItem", {6, 1, 2915}},
	},
	tbAction = {
		{"AddDialog", {11, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}

tbConfig[11] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"CheckBagFreeCell", {1, "CÇn cã Ýt nhÊt mét « trèng trong hµnh trang"}},
	},
	tbAction = {
		{"PlotDialogue", {-1, -1, 7,  "Thiªn NhÉn", 12}},
	},
}

tbConfig[12] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"CheckBagFreeCell", {1, "CÇn cã Ýt nhÊt mét « trèng trong hµnh trang"}},
	},
	tbAction = {
		{"GetMissionItem", {{{tbProp = {6,1,2915,1,0,0,}, nBindState = -2,},}}},
		{"ThisTask:GotoDetailEX", {"Thiªn NhÉn", 16, -1, 6}},
	},
}

tbConfig[13] = {
	m_nCurStepId = 4,
	tbMessage = {
		{"DialogWithNpc", {"T« Tam N­¬ng"}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
		{"ThisTask:CheckNoItem", {6, 1, 2916}},
	},
	tbAction = {
		{"AddDialog", {14, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}

tbConfig[14] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"CheckBagFreeCell", {1, "CÇn cã Ýt nhÊt mét « trèng trong hµnh trang"}},
	},
	tbAction = {
		{"PlotDialogue", {-1, -1, 8,  "Thiªn NhÉn", 15}},
	},
}

tbConfig[15] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"CheckBagFreeCell", {1, "CÇn cã Ýt nhÊt mét « trèng trong hµnh trang"}},
	},
	tbAction = {
		{"GetMissionItem", {{{tbProp = {6,1,2916,1,0,0,}, nBindState = -2,},}}},
		{"ThisTask:GotoDetailEX", {"Thiªn NhÉn", 16, -1, 6}},
	},
}

tbConfig[16] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"ThisTask:CheckItemNoMsg", {{{tbProp = {6,1,2914,1,0,0,},},{tbProp = {6,1,2915,1,0,0,},},{tbProp = {6,1,2916,1,0,0,},},}}},
	},
	tbAction = {
		{"GotoNextMessageStep", {1, 2885}},
	},
}

tbConfig[17] = {
	m_nCurStepId = 5,
	tbMessage = {
		{"DialogWithNpc", {"TiÓu Nhan"}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"AddDialog", {18, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}

tbConfig[18] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
		{"CheckItem", {{{tbProp = {6,1,2914,1,0,0,},},{tbProp = {6,1,2915,1,0,0,},},{tbProp = {6,1,2916,1,0,0,},},}}},
	},
	tbAction = {
		{"PlotDialogue", {-1, -1, 3,  "Thiªn NhÉn", 19}},
	},
}

tbConfig[19] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
		{"CheckItem", {{{tbProp = {6,1,2914,1,0,0,},},{tbProp = {6,1,2915,1,0,0,},},{tbProp = {6,1,2916,1,0,0,},},}}},
	},
	tbAction = {
		{"ConsumeItem", {{{tbProp = {6,1,2914,1,0,0,},},{tbProp = {6,1,2915,1,0,0,},},{tbProp = {6,1,2916,1,0,0,},},}}},
		{"GotoNextMessageStep", {1, 2885}},
	},
}

tbConfig[20] = {
	m_nCurStepId = 6,
	tbMessage = {
		{"KillNpc", {"Nh¹c Hoa l·o nh©n"}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"GetMissionItem", {{{tbProp = {6,1,2917,1,0,0,}, nBindState = -2,},}}},
		{"GotoNextMessageStep", {1, 2885}},
	},
}

tbConfig[21] = {
	m_nCurStepId = 7,
	tbMessage = {
		{"DialogWithNpc", {"TiÓu Nhan"}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"AddDialog", {22, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}

tbConfig[22] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
	},
	tbAction = {
		{"PlotDialogue", {1, 2885, 4,  "Thiªn NhÉn", -1}},
	},
}

tbConfig[23] = {
	m_nCurStepId = 8,
	tbMessage = {
		{"DialogWithNpc", {"T¶ Hé Ph¸p §oan Méc DuÖ "}},
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
	},
	tbAction = {
		{"AddDialog", {24, "NhiÖm vô kü n¨ng cÊp 150"}},
	},
}

tbConfig[24] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"ThisTask:CheckMissionCondition", {}},
		{"CheckItem", {{{tbProp = {6,1,2917,1,0,0,},},}}},
		{"CheckBagFreeCell", {1, "CÇn cã Ýt nhÊt mét « trèng trong hµnh trang"}},
	},
	tbAction = {
		{"PlotDialogue", {-1, -1, 5, "Thiªn NhÉn", 25}},
	},
}

tbConfig[25] = {
	m_nCurStepId = nil,
	tbMessage = {
	},
	tbCondition = {
		{"CheckItem", {{{tbProp = {6,1,2917,1,0,0,},},}}},
		{"CheckBagFreeCell", {1, "CÇn cã Ýt nhÊt mét « trèng trong hµnh trang"}}
	},
	tbAction = {
		{"ConsumeItem", {{{tbProp = {6,1,2917,1,0,0,},},}}},
		{"GetMissionItem", {{{tbProp = {6,1,2908,1,0,0,}, nBindState = -2,},}}},
		{"GotoNextMessageStep", {1, 2885}},
	},
}
