TB_NEWYEAR_DOGGIFT = {
		{"ThiÖp Nh­ ý ",	{6,1,1016,1,0,0,0},	0.3	},
		{"§Þnh Quèc ¤ Sa Ph¸t Qu¸n",	{0,160},	0.001	},
		{"§Þnh Quèc Thanh Sa Tr­êng Sam",	{0,159},	0.0012	},
		{"§Þnh Quèc XÝch Quyªn NhuyÔn Ngoa",	{0,161},	0.0015	},
		{"§Þnh Quèc Tö §»ng Hé uyÓn",	{0,162},	0.0015	},
		{"§Þnh Quèc Ng©n Tµm Yªu ®¸i",	{0,163},	0.0015	},
		{"An Bang B¨ng Tinh Th¹ch H¹ng Liªn",	{0,164},	0.0005	},
		{"An Bang Cóc Hoa Th¹ch ChØ hoµn",	{0,165},	0.001	},
		{"An Bang §iÒn Hoµng Th¹ch Ngäc Béi",	{0,166},	0.001	},
		{"An Bang Kª HuyÕt Th¹ch Giíi ChØ ",	{0,167},	0.001	},
		{"HiÖp Cèt ThiÕt HuyÕt Sam",	{0,186},	0.001	},
		{"HiÖp Cèt §a T×nh Hoµn",	{0,187},	0.001	},
		{"HiÖp Cèt §an T©m Giíi",	{0,188},	0.001	},
		{"HiÖp Cèt T×nh ý KÕt",	{0,189},	0.0005	},
		{"Nhu T×nh C©n Quèc Nghª Th­êng",	{0,190},	0.0001	},
		{"Nhu T×nh Thôc N÷ H¹ng Liªn",	{0,191},	0.001	},
		{"Nhu T×nh  Phông Nghi Giíi ChØ ",	{0,192},	0.001	},
		{"Nhu T×nh  TuÖ T©m Ngäc Béi",	{0,193},	0.001	},
		{"Thiªn Hoµng Long Long §µi",	{0,168},	0.01	},
		{"Thiªn Hoµng Long B¹ch Long Tøc",	{0,169},	0.01	},
		{"Thiªn Hoµng Long TrÊn Minh Liªn",	{0,170},	0.01	},
		{"Thiªn Hoµng Long Cöu HiÖn chØ ",	{0,171},	0.01	},
		{"Thiªn Hoµng Long Ngäc Tiªu Diªu",	{0,172},	0.01	},
		{"Thiªn Hoµng Long Hoµng Kim L©n",	{0,173},	0.01	},
		{"Thiªn Hoµng Long Bµn Long c«i",	{0,174},	0.01	},
		{"Thiªn Hoµng Long Long Khèc Thiªn Lý ",	{0,175},	0.01	},
		{"Thiªn Hoµng Long Né Long §ång",	{0,176},	0.01	},
		{"Kim Phong Thanh D­¬ng Kh«i",	{0,177},	0.01	},
		{"Kim Phong Kú L©n HuyÕt",	{0,178},	0.01	},
		{"Kim Phong Tr¹c Liªn Quang",	{0,179},	0.01	},
		{"Kim Phong C«ng CÈn Tam Th¸n",	{0,180},	0.01	},
		{"Kim Phong §o¹t Hån Ngäc ®¸i",	{0,181},	0.01	},
		{"Kim Phong HËu NghÖ dÉn cung",	{0,182},	0.01	},
		{"Kim Phong Lan §×nh Ngäc",	{0,183},	0.01	},
		{"Kim Phong Thiªn Lý Th¶o Th­îng Phi",	{0,184},	0.01	},
		{"Kim Phong §ång T­íc Xu©n Th©m",	{0,185},	0.01	},
		{"Vâ L©m MËt TÞch",	{6,1,26,1,0,0,0},	0.005	},
		{"TÈy Tñy Kinh",	{6,1,22,1,0,0,0},	0.005	},
		{"Thiªn Tµm Ngoa 6 thuéc tÝnh (Thuéc tÝnh Kim) ",	{2,0,5,1,10,0,0,-1,-1,-1,-1,-1,-1},	0.02	},
		{"Thiªn Tµm Ngoa 6 thuéc tÝnh (Thuéc tÝnh Méc) ",	{2,0,5,1,10,1,0,-1,-1,-1,-1,-1,-1},	0.02	},
		{"Thiªn Tµm Ngoa 6 thuéc tÝnh (Thuéc tÝnh Thñy) ",	{2,0,5,1,10,2,0,-1,-1,-1,-1,-1,-1},	0.01	},
		{"Thiªn Tµm Ngoa 6 thuéc tÝnh (Thuéc tÝnh Háa) ",	{2,0,5,1,10,3,0,-1,-1,-1,-1,-1,-1},	0.01	},
		{"Thiªn Tµm Ngoa 6 thuéc tÝnh (Thuéc tÝnh Thæ) ",	{2,0,5,1,10,4,0,-1,-1,-1,-1,-1,-1},	0.01	},
		{"Phi Phông Ngoa 6 thuéc tÝnh (Thuéc tÝnh Kim) ",	{2,0,5,3,10,0,0,-1,-1,-1,-1,-1,-1},	0.01	},
		{"Phi Phông Ngoa 6 thuéc tÝnh (Thuéc tÝnh Méc) ",	{2,0,5,3,10,1,0,-1,-1,-1,-1,-1,-1},	0.01	},
		{"Phi Phông Ngoa 6 thuéc tÝnh (Thuéc tÝnh Thñy) ",	{2,0,5,3,10,2,0,-1,-1,-1,-1,-1,-1},	0.005	},
		{"Phi Phông Ngoa 6 thuéc tÝnh (Thuéc tÝnh Háa) ",	{2,0,5,3,10,3,0,-1,-1,-1,-1,-1,-1},	0.005	},
		{"Phi Phông Ngoa 6 thuéc tÝnh (Thuéc tÝnh Thæ) ",	{2,0,5,3,10,4,0,-1,-1,-1,-1,-1,-1},	0.01	},
		{"Tö Thñy Tinh",	{239},	0.005	},
		{"Lam Thñy Tinh",	{238},	0.005	},
		{"Lôc Thñy Tinh",	{240},	0.005	},
		{"Tinh Hång B¶o Th¹ch",	{353},	0.01	},
		{"HuyÒn Tinh Kho¸ng Th¹ch cÊp 6 ",	{6,1,147,6,0,0,0},	0.001	},
		{"HuyÒn Tinh Kho¸ng Th¹ch cÊp 5",	{6,1,147,5,0,0,0},	0.003	},
		{"HuyÒn Tinh Kho¸ng Th¹ch cÊp 4",	{6,1,147,4,0,0,0},	0.005	},
		{"Phóc Duyªn Lé (§¹i) ",	{6,1,124,1,0,0,0},	0.06	},
		{"Phóc Duyªn Lé (Trung) ",	{6,1,123,1,0,0,0},	0.08	},
		{"Phóc Duyªn Lé (TiÓu) ",	{6,1,122,1,0,0,0},	0.1092	},
		{"Tiªn Th¶o Lé ",	{6,1,71,1,0,0,0},	0.1	},
}

DOG_BASEVALUE = 10000

function main()
	local sum = 0
	for i = 1, getn(TB_NEWYEAR_DOGGIFT) do
		sum = sum + TB_NEWYEAR_DOGGIFT[i][3] * DOG_BASEVALUE
	end
	local ranvalue = random(sum)
	local addnum = 0
	local itemidx = 0
	for i = 1, getn(TB_NEWYEAR_DOGGIFT) do
		addnum = addnum + TB_NEWYEAR_DOGGIFT[i][3] * DOG_BASEVALUE
		if (addnum >= ranvalue) then
			itemidx = i
			break
		end
	end
	local gift = TB_NEWYEAR_DOGGIFT[itemidx][2]
	if (getn(gift) == 1) then
		AddEventItem(gift[1])
	elseif (getn(gift) == 2) then
		AddGoldItem(gift[1],gift[2])
	elseif (getn(gift) == 7) then
		AddItem(gift[1],gift[2],gift[3],gift[4],gift[5],gift[6],gift[7])
	elseif (getn(gift) == 13) then
		AddQualityItem(gift[1],gift[2],gift[3],gift[4],gift[5],gift[6],gift[7],gift[8],gift[9],gift[10],gift[11],gift[12],gift[13])
	else
		return
	end
	Msg2Player("<#> B¹n nhËn ®­îc 1 <color=yellow>"..TB_NEWYEAR_DOGGIFT[itemidx][1]..".")
	WriteLog(date().." account:"..GetAccount().." name="..GetName().."Sö dông bao l× x× may m¾n n¨m TuÊt nhËn ®­îc 1 <color=yellow>"..TB_NEWYEAR_DOGGIFT[itemidx][1]..".")
end